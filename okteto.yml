# Configuraci√≥n para Okteto
name: sistema-ocr-avanzado
autocreate: true

build:
  ocr-api:
    context: .
    dockerfile: Dockerfile

deploy:
  ocr-api:
    image: okteto.dev/sistema-ocr-avanzado:latest
    replicas: 1
    ports:
      - 8000
    resources:
      limits:
        memory: 2Gi
        cpu: 1000m
      requests:
        memory: 1Gi
        cpu: 500m
    env:
      - PYTHONUNBUFFERED=1
      - ENVIRONMENT=production
    volumes:
      - /app/entrada
      - /app/procesados
      - /app/resultados
      - /app/logs
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s


